stages: [test, analysis, build]

include:
  - component: $CI_SERVER_FQDN/devops/cicd/gitlab-ci-toolkit/nextjs-unit-tests@1.8.0
  - component: $CI_SERVER_FQDN/devops/cicd/gitlab-ci-toolkit/nextjs-sonarqube-analysis@1.8.0
    inputs:
      dependencies:
        - nextjs-unit-tests
  - component: $CI_SERVER_FQDN/devops/cicd/gitlab-ci-toolkit/nextjs-build-docker-image@1.8.0
    inputs:
      dependencies:
        - nextjs-sonarqube-analysis
